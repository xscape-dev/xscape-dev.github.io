<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>.Net on XSCAPEâ€™s Blog</title><link>https://xscape.dev/tags/.net/</link><description>Recent content in .Net on XSCAPEâ€™s Blog</description><generator>Hugo</generator><language>zh</language><copyright>Â© 2024, xscape_dev</copyright><lastBuildDate>Sun, 26 Mar 2023 20:51:41 +0800</lastBuildDate><atom:link href="https://xscape.dev/tags/.net/index.xml" rel="self" type="application/rss+xml"/><item><title>åœ¨.NETä¸­ä½¿ç”¨Redis</title><link>https://xscape.dev/post/net-csredis/</link><pubDate>Sun, 26 Mar 2023 20:51:41 +0800</pubDate><guid>https://xscape.dev/post/net-csredis/</guid><description>&lt;h2 id="ä¸ºä»€ä¹ˆé€‰æ‹©csredis">ä¸ºä»€ä¹ˆé€‰æ‹©CSRedis&lt;/h2>
&lt;ol>
&lt;li>ServiceStack.Redis æ˜¯å•†ä¸šç‰ˆï¼Œå…è´¹ç‰ˆæœ‰é™åˆ¶ï¼›&lt;/li>
&lt;li>StackExchange.Redis æ˜¯å…è´¹ç‰ˆï¼Œä½†æ˜¯å†…æ ¸åœ¨ .NETCore è¿è¡Œæœ‰é—®é¢˜ç»å¸¸ Timeoutï¼Œæš‚æ— æ³•è§£å†³ï¼›&lt;/li>
&lt;li>CSRedis äºŽ 2016 å¹´å¼€å§‹æ”¯æŒ .NETCore ä¸€ç›´è¿­ä»£è‡³ä»Šï¼Œå®žçŽ°äº†ä½Žé—¨æ§›ã€é«˜æ€§èƒ½ï¼Œå’Œåˆ†åŒºé«˜çº§çŽ©æ³•çš„ .NETCore redis-cli SDKï¼›&lt;/li>
&lt;/ol>
&lt;p>åœ¨ v3.0 ç‰ˆæœ¬æ›´æ–°ä¸­ï¼ŒCSRedis ä¸­çš„æ‰€æœ‰æ–¹æ³•åç§°è¿›è¡Œäº†è°ƒæ•´ï¼Œä½¿å…¶å’Œ redis-cli ä¿æŒä¸€è‡´ï¼Œå¦‚æžœä½ ç†Ÿæ‚‰ redis-cli çš„å‘½ä»¤ï¼ŒCSRedis å¯ä»¥ç›´æŽ¥ä¸Šæ‰‹ï¼Œå­¦ä¹ æˆæœ¬å°±ä½Žå¾ˆå¤šã€‚&lt;/p>
&lt;h2 id="å®‰è£…csredis-x1f638">å®‰è£…CSRedis ðŸ˜¸&lt;/h2>
&lt;p>ç›´æŽ¥ä½¿ç”¨ Visual Studio ä¸­çš„ Nuget åŒ…ç®¡ç†å™¨æœç´¢å®‰è£…å³å¯ï¼Œä½¿ç”¨è¿žæŽ¥å­—ç¬¦ä¸²åˆ›å»º redis å®žä¾‹ï¼Œå¹¶æ‰§è¡Œ&lt;code>RedisHelper.Initialization()&lt;/code>è¿›è¡Œåˆå§‹åŒ–ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">var&lt;/span> csredis = &lt;span style="color:#66d9ef">new&lt;/span> CSRedisClient(&lt;span style="color:#e6db74">&amp;#34;127.0.0.1:6379,password=YourPassword&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>RedisHelper.Initialization(csredis);
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¦‚æžœä½ æ²¡æœ‰ç»™redisè®¾ç½®å¯†ç ï¼Œé‚£ä¹ˆç›´æŽ¥å†™ä¸Šipå°±è¡Œï¼Œå¦åˆ™çš„è¯è¦æŠŠpasswordå†™è¿›è¿žæŽ¥å­—ç¬¦ä¸²ä¸­ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">var&lt;/span> csredis = &lt;span style="color:#66d9ef">new&lt;/span> CSRedisClient(&lt;span style="color:#e6db74">&amp;#34;127.0.0.1:6379&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>RedisHelper.Initialization(csredis);
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç„¶åŽå°±å¯ä»¥è¿›è¡Œredisæ“ä½œäº†ã€‚&lt;/p>
&lt;h2 id="å­—ç¬¦ä¸²string">å­—ç¬¦ä¸²(string)&lt;/h2>
&lt;p>å…³äºŽå­—ç¬¦ä¸²çš„&lt;code>value&lt;/code>ï¼š&lt;/p>
&lt;ol>
&lt;li>value å¯ä»¥ç”¨æ¥å­˜å‚¨ä»»æ„æ ¼å¼çš„æ•°æ®ï¼Œå¦‚ jsonã€jpg ç”šè‡³æ˜¯è§†é¢‘æ–‡ä»¶ï¼›&lt;/li>
&lt;li>value çš„æœ€å¤§å®¹é‡æ˜¯512Mï¼›&lt;/li>
&lt;li>value å¯ä»¥å­˜å‚¨3ç§ç±»åž‹çš„å€¼ï¼šå­—èŠ‚ä¸²ï¼ˆbyte stringï¼‰ã€æ•´æ•°ï¼ˆintï¼‰ã€æµ®ç‚¹æ•°ï¼ˆdoubleï¼‰ï¼›&lt;/li>
&lt;/ol>
&lt;p>å…¶ä¸­ï¼Œæ•´æ•°çš„å–å€¼èŒƒå›´å’Œç³»ç»Ÿçš„é•¿æ•´æ•°å–å€¼èŒƒå›´ç›¸åŒï¼Œåœ¨32ä½çš„æ“ä½œç³»ç»Ÿä¸Šï¼Œæ•´æ•°å°±æ˜¯32ä½çš„ï¼›åœ¨64ä½æ“ä½œç³»ç»Ÿä¸Šï¼Œæ•´æ•°å°±æ˜¯64ä½æœ‰ç¬¦å·æ•´æ•°ã€‚æµ®ç‚¹æ•°çš„å–å€¼èŒƒå›´å’Œ IEEE 754 æ ‡å‡†çš„åŒç²¾åº¦æµ®ç‚¹æ•°ç›¸åŒã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// æ·»åŠ å­—ç¬¦ä¸²é”®-å€¼å¯¹&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>csredis.Set(&lt;span style="color:#e6db74">&amp;#34;hello&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;1&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>csredis.Set(&lt;span style="color:#e6db74">&amp;#34;world&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;2&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>csredis.Set(&lt;span style="color:#e6db74">&amp;#34;hello&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;3&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// æ ¹æ®é”®èŽ·å–å¯¹åº”çš„å€¼&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>csredis.Get(&lt;span style="color:#e6db74">&amp;#34;hello&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// ç§»é™¤å…ƒç´ &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>csredis.Del(&lt;span style="color:#e6db74">&amp;#34;world&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åœ¨å¯¹åŒä¸€ä¸ªé”®å¤šæ¬¡èµ‹å€¼æ—¶ï¼Œè¯¥é”®çš„å€¼æ˜¯æœ€åŽä¸€æ¬¡èµ‹å€¼æ—¶çš„å€¼ï¼Œå®žä¾‹ä¸­&lt;code>hello&lt;/code>å¯¹åº”çš„å€¼æœ€ç»ˆä¸º&lt;code>3&lt;/code>ã€‚&lt;/p></description></item></channel></rss>