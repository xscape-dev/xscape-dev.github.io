<!doctype html><html class="not-ready lg:text-base" style=--bg:#faf8f1 lang=zh dir=ltr><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>åœ¨.NETä¸­ä½¿ç”¨Redis - XSCAPEâ€™s Blog</title>
<meta name=theme-color><meta name=description content='ä¸ºä»€ä¹ˆé€‰æ‹©CSRedis

ServiceStack.Redis æ˜¯å•†ä¸šç‰ˆï¼Œå…è´¹ç‰ˆæœ‰é™åˆ¶ï¼›
StackExchange.Redis æ˜¯å…è´¹ç‰ˆï¼Œä½†æ˜¯å†…æ ¸åœ¨ .NETCore è¿è¡Œæœ‰é—®é¢˜ç»å¸¸ Timeoutï¼Œæš‚æ— æ³•è§£å†³ï¼›
CSRedis äº 2016 å¹´å¼€å§‹æ”¯æŒ .NETCore ä¸€ç›´è¿­ä»£è‡³ä»Šï¼Œå®ç°äº†ä½é—¨æ§›ã€é«˜æ€§èƒ½ï¼Œå’Œåˆ†åŒºé«˜çº§ç©æ³•çš„ .NETCore redis-cli SDKï¼›

åœ¨ v3.0 ç‰ˆæœ¬æ›´æ–°ä¸­ï¼ŒCSRedis ä¸­çš„æ‰€æœ‰æ–¹æ³•åç§°è¿›è¡Œäº†è°ƒæ•´ï¼Œä½¿å…¶å’Œ redis-cli ä¿æŒä¸€è‡´ï¼Œå¦‚æœä½ ç†Ÿæ‚‰ redis-cli çš„å‘½ä»¤ï¼ŒCSRedis å¯ä»¥ç›´æ¥ä¸Šæ‰‹ï¼Œå­¦ä¹ æˆæœ¬å°±ä½å¾ˆå¤šã€‚
å®‰è£…CSRedis ğŸ˜¸
ç›´æ¥ä½¿ç”¨ Visual Studio ä¸­çš„ Nuget åŒ…ç®¡ç†å™¨æœç´¢å®‰è£…å³å¯ï¼Œä½¿ç”¨è¿æ¥å­—ç¬¦ä¸²åˆ›å»º redis å®ä¾‹ï¼Œå¹¶æ‰§è¡ŒRedisHelper.Initialization()è¿›è¡Œåˆå§‹åŒ–ã€‚
var csredis = new CSRedisClient("127.0.0.1:6379,password=YourPassword");
RedisHelper.Initialization(csredis);
å¦‚æœä½ æ²¡æœ‰ç»™redisè®¾ç½®å¯†ç ï¼Œé‚£ä¹ˆç›´æ¥å†™ä¸Šipå°±è¡Œï¼Œå¦åˆ™çš„è¯è¦æŠŠpasswordå†™è¿›è¿æ¥å­—ç¬¦ä¸²ä¸­ã€‚
var csredis = new CSRedisClient("127.0.0.1:6379");
RedisHelper.Initialization(csredis);
ç„¶åå°±å¯ä»¥è¿›è¡Œredisæ“ä½œäº†ã€‚
å­—ç¬¦ä¸²(string)
å…³äºå­—ç¬¦ä¸²çš„valueï¼š

value å¯ä»¥ç”¨æ¥å­˜å‚¨ä»»æ„æ ¼å¼çš„æ•°æ®ï¼Œå¦‚ jsonã€jpg ç”šè‡³æ˜¯è§†é¢‘æ–‡ä»¶ï¼›
value çš„æœ€å¤§å®¹é‡æ˜¯512Mï¼›
value å¯ä»¥å­˜å‚¨3ç§ç±»å‹çš„å€¼ï¼šå­—èŠ‚ä¸²ï¼ˆbyte stringï¼‰ã€æ•´æ•°ï¼ˆintï¼‰ã€æµ®ç‚¹æ•°ï¼ˆdoubleï¼‰ï¼›

å…¶ä¸­ï¼Œæ•´æ•°çš„å–å€¼èŒƒå›´å’Œç³»ç»Ÿçš„é•¿æ•´æ•°å–å€¼èŒƒå›´ç›¸åŒï¼Œåœ¨32ä½çš„æ“ä½œç³»ç»Ÿä¸Šï¼Œæ•´æ•°å°±æ˜¯32ä½çš„ï¼›åœ¨64ä½æ“ä½œç³»ç»Ÿä¸Šï¼Œæ•´æ•°å°±æ˜¯64ä½æœ‰ç¬¦å·æ•´æ•°ã€‚æµ®ç‚¹æ•°çš„å–å€¼èŒƒå›´å’Œ IEEE 754 æ ‡å‡†çš„åŒç²¾åº¦æµ®ç‚¹æ•°ç›¸åŒã€‚
// æ·»åŠ å­—ç¬¦ä¸²é”®-å€¼å¯¹
csredis.Set("hello", "1");
csredis.Set("world", "2");
csredis.Set("hello", "3");

// æ ¹æ®é”®è·å–å¯¹åº”çš„å€¼
csredis.Get("hello");

// ç§»é™¤å…ƒç´ 
csredis.Del("world");
åœ¨å¯¹åŒä¸€ä¸ªé”®å¤šæ¬¡èµ‹å€¼æ—¶ï¼Œè¯¥é”®çš„å€¼æ˜¯æœ€åä¸€æ¬¡èµ‹å€¼æ—¶çš„å€¼ï¼Œå®ä¾‹ä¸­helloå¯¹åº”çš„å€¼æœ€ç»ˆä¸º3ã€‚'><meta name=author content="XSCAPE"><link rel="preload stylesheet" as=style href=https://xscape.dev/main.min.css><link rel=preload as=image href=https://xscape.dev/theme.png><link rel=preload as=image href="https://www.gravatar.com/avatar/753e84788d5f4ef728fa0b4d9f46c422?s=160&amp;d=identicon"><link rel=preload as=image href=https://xscape.dev/twitter.svg><link rel=preload as=image href=https://xscape.dev/github.svg><link rel=preload as=image href=https://xscape.dev/instagram.svg><script defer src=https://xscape.dev/highlight.min.js onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://xscape.dev/favicon.ico><link rel=apple-touch-icon href=https://xscape.dev/apple-touch-icon.png><meta name=generator content="Hugo 0.139.2"><meta itemprop=name content="åœ¨.NETä¸­ä½¿ç”¨Redis"><meta itemprop=description content="Desc Text."><meta itemprop=datePublished content="2023-03-26T20:51:41+08:00"><meta itemprop=dateModified content="2023-03-26T20:51:41+08:00"><meta itemprop=wordCount content="420"><meta itemprop=keywords content=".Net,Redis"><meta property="og:url" content="https://xscape.dev/post/net-csredis/"><meta property="og:site_name" content="XSCAPEâ€™s Blog"><meta property="og:title" content="åœ¨.NETä¸­ä½¿ç”¨Redis"><meta property="og:description" content="Desc Text."><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-03-26T20:51:41+08:00"><meta property="article:modified_time" content="2023-03-26T20:51:41+08:00"><meta property="article:tag" content=".Net"><meta property="article:tag" content="Redis"><meta name=twitter:card content="summary"><meta name=twitter:title content="åœ¨.NETä¸­ä½¿ç”¨Redis"><meta name=twitter:description content="Desc Text."><link rel=canonical href=https://xscape.dev/post/net-csredis/></head><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-[4.5rem] max-w-[--w] px-8 lg:justify-center"><div class="relative z-50 ltr:mr-auto rtl:ml-auto flex items-center"><a class="-translate-y-[1px] text-2xl font-medium" href=https://xscape.dev/>XSCAPEâ€™s Blog</a><div class="btn-dark text-[0] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]" role=button aria-label=Dark></div></div><div class="btn-menu relative z-50 ltr:-mr-8 rtl:-ml-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden" role=button aria-label=Menu></div><script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg="#faf8f1".replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"><nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-10 rtl:space-x-reverse"><a class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal" href=/>æ–‡ç« </a>
<a class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal" href=/tags/>æ ‡ç­¾</a>
<a class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal" href=/about/>å…³äº</a></nav><nav class="mt-12 flex justify-center space-x-10 rtl:space-x-reverse dark:invert ltr:lg:ml-14 rtl:lg:mr-14 lg:mt-0 lg:items-center"><a class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./twitter.svg) href=https://twitter.com/nanxiaobei target=_blank rel=me>twitter
</a><a class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/xscape-dev target=_blank rel=me>github
</a><a class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./instagram.svg) href=https://instagram.com/nan.xiaobei target=_blank rel=me>instagram</a></nav></div></header><main class="prose prose-neutral relative mx-auto min-h-[calc(100%-9rem)] max-w-[--w] px-8 pb-16 pt-14 dark:prose-invert"><article><header class=mb-14><h1 class="!my-0 pb-2.5">åœ¨.NETä¸­ä½¿ç”¨Redis</h1><div class="text-xs antialiased opacity-60"><time>2023å¹´3æœˆ26æ—¥</time></div></header><section><h2 id=ä¸ºä»€ä¹ˆé€‰æ‹©csredis>ä¸ºä»€ä¹ˆé€‰æ‹©CSRedis</h2><ol><li>ServiceStack.Redis æ˜¯å•†ä¸šç‰ˆï¼Œå…è´¹ç‰ˆæœ‰é™åˆ¶ï¼›</li><li>StackExchange.Redis æ˜¯å…è´¹ç‰ˆï¼Œä½†æ˜¯å†…æ ¸åœ¨ .NETCore è¿è¡Œæœ‰é—®é¢˜ç»å¸¸ Timeoutï¼Œæš‚æ— æ³•è§£å†³ï¼›</li><li>CSRedis äº 2016 å¹´å¼€å§‹æ”¯æŒ .NETCore ä¸€ç›´è¿­ä»£è‡³ä»Šï¼Œå®ç°äº†ä½é—¨æ§›ã€é«˜æ€§èƒ½ï¼Œå’Œåˆ†åŒºé«˜çº§ç©æ³•çš„ .NETCore redis-cli SDKï¼›</li></ol><p>åœ¨ v3.0 ç‰ˆæœ¬æ›´æ–°ä¸­ï¼ŒCSRedis ä¸­çš„æ‰€æœ‰æ–¹æ³•åç§°è¿›è¡Œäº†è°ƒæ•´ï¼Œä½¿å…¶å’Œ redis-cli ä¿æŒä¸€è‡´ï¼Œå¦‚æœä½ ç†Ÿæ‚‰ redis-cli çš„å‘½ä»¤ï¼ŒCSRedis å¯ä»¥ç›´æ¥ä¸Šæ‰‹ï¼Œå­¦ä¹ æˆæœ¬å°±ä½å¾ˆå¤šã€‚</p><h2 id=å®‰è£…csredis-x1f638>å®‰è£…CSRedis ğŸ˜¸</h2><p>ç›´æ¥ä½¿ç”¨ Visual Studio ä¸­çš„ Nuget åŒ…ç®¡ç†å™¨æœç´¢å®‰è£…å³å¯ï¼Œä½¿ç”¨è¿æ¥å­—ç¬¦ä¸²åˆ›å»º redis å®ä¾‹ï¼Œå¹¶æ‰§è¡Œ<code>RedisHelper.Initialization()</code>è¿›è¡Œåˆå§‹åŒ–ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>var</span> csredis = <span style=color:#66d9ef>new</span> CSRedisClient(<span style=color:#e6db74>&#34;127.0.0.1:6379,password=YourPassword&#34;</span>);
</span></span><span style=display:flex><span>RedisHelper.Initialization(csredis);
</span></span></code></pre></div><p>å¦‚æœä½ æ²¡æœ‰ç»™redisè®¾ç½®å¯†ç ï¼Œé‚£ä¹ˆç›´æ¥å†™ä¸Šipå°±è¡Œï¼Œå¦åˆ™çš„è¯è¦æŠŠpasswordå†™è¿›è¿æ¥å­—ç¬¦ä¸²ä¸­ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>var</span> csredis = <span style=color:#66d9ef>new</span> CSRedisClient(<span style=color:#e6db74>&#34;127.0.0.1:6379&#34;</span>);
</span></span><span style=display:flex><span>RedisHelper.Initialization(csredis);
</span></span></code></pre></div><p>ç„¶åå°±å¯ä»¥è¿›è¡Œredisæ“ä½œäº†ã€‚</p><h2 id=å­—ç¬¦ä¸²string>å­—ç¬¦ä¸²(string)</h2><p>å…³äºå­—ç¬¦ä¸²çš„<code>value</code>ï¼š</p><ol><li>value å¯ä»¥ç”¨æ¥å­˜å‚¨ä»»æ„æ ¼å¼çš„æ•°æ®ï¼Œå¦‚ jsonã€jpg ç”šè‡³æ˜¯è§†é¢‘æ–‡ä»¶ï¼›</li><li>value çš„æœ€å¤§å®¹é‡æ˜¯512Mï¼›</li><li>value å¯ä»¥å­˜å‚¨3ç§ç±»å‹çš„å€¼ï¼šå­—èŠ‚ä¸²ï¼ˆbyte stringï¼‰ã€æ•´æ•°ï¼ˆintï¼‰ã€æµ®ç‚¹æ•°ï¼ˆdoubleï¼‰ï¼›</li></ol><p>å…¶ä¸­ï¼Œæ•´æ•°çš„å–å€¼èŒƒå›´å’Œç³»ç»Ÿçš„é•¿æ•´æ•°å–å€¼èŒƒå›´ç›¸åŒï¼Œåœ¨32ä½çš„æ“ä½œç³»ç»Ÿä¸Šï¼Œæ•´æ•°å°±æ˜¯32ä½çš„ï¼›åœ¨64ä½æ“ä½œç³»ç»Ÿä¸Šï¼Œæ•´æ•°å°±æ˜¯64ä½æœ‰ç¬¦å·æ•´æ•°ã€‚æµ®ç‚¹æ•°çš„å–å€¼èŒƒå›´å’Œ IEEE 754 æ ‡å‡†çš„åŒç²¾åº¦æµ®ç‚¹æ•°ç›¸åŒã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#75715e>// æ·»åŠ å­—ç¬¦ä¸²é”®-å€¼å¯¹</span>
</span></span><span style=display:flex><span>csredis.Set(<span style=color:#e6db74>&#34;hello&#34;</span>, <span style=color:#e6db74>&#34;1&#34;</span>);
</span></span><span style=display:flex><span>csredis.Set(<span style=color:#e6db74>&#34;world&#34;</span>, <span style=color:#e6db74>&#34;2&#34;</span>);
</span></span><span style=display:flex><span>csredis.Set(<span style=color:#e6db74>&#34;hello&#34;</span>, <span style=color:#e6db74>&#34;3&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// æ ¹æ®é”®è·å–å¯¹åº”çš„å€¼</span>
</span></span><span style=display:flex><span>csredis.Get(<span style=color:#e6db74>&#34;hello&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ç§»é™¤å…ƒç´ </span>
</span></span><span style=display:flex><span>csredis.Del(<span style=color:#e6db74>&#34;world&#34;</span>);
</span></span></code></pre></div><p>åœ¨å¯¹åŒä¸€ä¸ªé”®å¤šæ¬¡èµ‹å€¼æ—¶ï¼Œè¯¥é”®çš„å€¼æ˜¯æœ€åä¸€æ¬¡èµ‹å€¼æ—¶çš„å€¼ï¼Œå®ä¾‹ä¸­<code>hello</code>å¯¹åº”çš„å€¼æœ€ç»ˆä¸º<code>3</code>ã€‚</p><p>ç”±äºrediså¯ä»¥å¯¹å­—ç¬¦ä¸²çš„ç±»å‹è¿›è¡Œâ€œè¯†åˆ«â€ï¼Œæ‰€ä»¥é™¤äº†å¯¹å­—ç¬¦ä¸²è¿›è¡Œå¢ã€åˆ ã€æŸ¥ã€ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹æ•´æ•°ç±»å‹è¿›è¡Œè‡ªå¢ã€è‡ªå‡æ“ä½œï¼Œå¯¹å­—èŠ‚ä¸²çš„ä¸€éƒ¨åˆ†è¿›è¡Œè¯»å–æˆ–è€…å†™å…¥ã€‚ä»¥ä¸‹æ˜¯å­—ç¬¦ä¸²çš„åŸºæœ¬ç”¨æ³•</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#75715e>/*    æ•°å€¼æ“ä½œ    */</span>
</span></span><span style=display:flex><span>csredis.Set(<span style=color:#e6db74>&#34;num-key&#34;</span>, <span style=color:#e6db74>&#34;24&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// value += 5</span>
</span></span><span style=display:flex><span>csredis.IncrBy(<span style=color:#e6db74>&#34;num-key&#34;</span>,<span style=color:#ae81ff>5</span>); 
</span></span><span style=display:flex><span><span style=color:#75715e>// output -&gt; 29</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// value -= 10</span>
</span></span><span style=display:flex><span>csredis.IncrBy(<span style=color:#e6db74>&#34;num-key&#34;</span>, -<span style=color:#ae81ff>10</span>); 
</span></span><span style=display:flex><span><span style=color:#75715e>// output -&gt; 19</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*    å­—èŠ‚ä¸²æ“ä½œ    */</span>
</span></span><span style=display:flex><span>csredis.Set(<span style=color:#e6db74>&#34;string-key&#34;</span>, <span style=color:#e6db74>&#34;hello &#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// åœ¨æŒ‡å®škeyçš„valueæœ«å°¾è¿½åŠ å­—ç¬¦ä¸²</span>
</span></span><span style=display:flex><span>csredis.Append(<span style=color:#e6db74>&#34;string-key&#34;</span>, <span style=color:#e6db74>&#34;world&#34;</span>); 
</span></span><span style=display:flex><span><span style=color:#75715e>// output -&gt; &#34;hello world&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// è·å–ä»æŒ‡å®šèŒƒå›´æ‰€æœ‰å­—ç¬¦æ„æˆçš„å­ä¸²ï¼ˆstart:3,end:7ï¼‰</span>
</span></span><span style=display:flex><span>csredis.GetRange(<span style=color:#e6db74>&#34;string-key&#34;</span>,<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>7</span>)  
</span></span><span style=display:flex><span><span style=color:#75715e>// output -&gt;  &#34;lo wo&#34;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span><span style=color:#75715e>// ç”¨æ–°å­—ç¬¦ä¸²ä»æŒ‡å®šä½ç½®è¦†å†™åŸvalueï¼ˆindex:4ï¼‰</span>
</span></span><span style=display:flex><span>csredis.SetRange(<span style=color:#e6db74>&#34;string-key&#34;</span>, <span style=color:#ae81ff>4</span>, <span style=color:#e6db74>&#34;aa&#34;</span>); 
</span></span><span style=display:flex><span><span style=color:#75715e>// output -&gt; &#34;hellaaword&#34;</span>
</span></span></code></pre></div><p>æœ‰ä¸€äº›éæ­£å¸¸æƒ…å†µéœ€è¦æ³¨æ„ï¼šå¯¹å­—èŠ‚ä¸²è¿›è¡Œè‡ªå¢ã€è‡ªå‡æ“ä½œæ—¶ï¼Œredisä¼šæŠ¥é”™ï¼›ä½¿ç”¨<code>Append</code>ã€<code>SetRange</code>æ–¹æ³•å¯¹valueè¿›è¡Œå†™å…¥æ—¶ï¼Œå­—èŠ‚ä¸²çš„é•¿åº¦å¯èƒ½ä¸å¤Ÿç”¨ï¼Œè¿™æ—¶redisä¼šä½¿ç”¨ç©ºå­—ç¬¦(null)å°†valueæ‰©å……åˆ°æŒ‡å®šé•¿åº¦ï¼Œç„¶åå†è¿›è¡Œå†™å…¥æ“ä½œã€‚</p><h2 id=åˆ—è¡¨list>åˆ—è¡¨(list)</h2><p>åˆ—è¡¨å¯ä»¥æœ‰åºçš„å­˜å‚¨å¤šä¸ªå­—ç¬¦ä¸²ï¼ˆå­—ç¬¦ä¸²å¯ä»¥é‡å¤ï¼‰ç­‰æ“ä½œï¼Œ åˆ—è¡¨æ˜¯é€šè¿‡é“¾è¡¨æ¥å®ç°çš„ï¼Œæ‰€ä»¥å®ƒæ·»åŠ æ–°å…ƒç´ çš„é€Ÿåº¦éå¸¸å¿«ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#75715e>// ä»å³ç«¯æ¨å…¥å…ƒç´ </span>
</span></span><span style=display:flex><span>csredis.RPush(<span style=color:#e6db74>&#34;my-list&#34;</span>, <span style=color:#e6db74>&#34;item1&#34;</span>, <span style=color:#e6db74>&#34;item2&#34;</span>, <span style=color:#e6db74>&#34;item3&#34;</span>, <span style=color:#e6db74>&#34;item4&#34;</span>); 
</span></span><span style=display:flex><span><span style=color:#75715e>// ä»å³ç«¯å¼¹å‡ºå…ƒç´ </span>
</span></span><span style=display:flex><span>csredis.RPop(<span style=color:#e6db74>&#34;my-list&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// ä»å·¦ç«¯æ¨å…¥å…ƒç´ </span>
</span></span><span style=display:flex><span>csredis.LPush(<span style=color:#e6db74>&#34;my-list&#34;</span>,<span style=color:#e6db74>&#34;LeftPushItem&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// ä»å·¦ç«¯å¼¹å‡ºå…ƒç´ </span>
</span></span><span style=display:flex><span>csredis.LPop(<span style=color:#e6db74>&#34;my-list&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// éå†é“¾è¡¨å…ƒç´ ï¼ˆstart:0,end:-1å³å¯è¿”å›æ‰€æœ‰å…ƒç´ ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>var</span> item <span style=color:#66d9ef>in</span> csredis.LRange(<span style=color:#e6db74>&#34;my-list&#34;</span>, <span style=color:#ae81ff>0</span>, -<span style=color:#ae81ff>1</span>))
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    Console.WriteLine(item);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// æŒ‰ç´¢å¼•å€¼è·å–å…ƒç´ ï¼ˆå½“ç´¢å¼•å€¼å¤§äºé“¾è¡¨é•¿åº¦ï¼Œè¿”å›ç©ºå€¼ï¼Œä¸ä¼šæŠ¥é”™ï¼‰</span>
</span></span><span style=display:flex><span>Console.WriteLine(<span style=color:#e6db74>$&#34;{csredis.LIndex(&#34;</span>my-list<span style=color:#e6db74>&#34;, 1)}&#34;</span>); 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ä¿®å‰ªæŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ ï¼ˆstart:4,end:10ï¼‰</span>
</span></span><span style=display:flex><span>csredis.LTrim(<span style=color:#e6db74>&#34;my-list&#34;</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>10</span>);
</span></span></code></pre></div><p>é™¤äº†å¯¹åˆ—è¡¨ä¸­çš„å…ƒç´ è¿›è¡Œä»¥ä¸Šç®€å•çš„å¤„ç†ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å°†ä¸€ä¸ªåˆ—è¡¨ä¸­çš„å…ƒç´ å¤åˆ¶åˆ°å¦ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚åœ¨è¯­ä¹‰ä¸Šï¼Œåˆ—è¡¨çš„å·¦ç«¯é»˜è®¤ä¸ºâ€œå¤´éƒ¨â€ï¼Œåˆ—è¡¨çš„å³ç«¯ä¸ºâ€œå°¾éƒ¨â€ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#75715e>// å°†my-listæœ€åä¸€ä¸ªå…ƒç´ å¼¹å‡ºå¹¶å‹å…¥another-listçš„å¤´éƒ¨</span>
</span></span><span style=display:flex><span>csredis.RPopLPush(<span style=color:#e6db74>&#34;my-list&#34;</span>, <span style=color:#e6db74>&#34;another-list&#34;</span>);
</span></span></code></pre></div><h2 id=é›†åˆset>é›†åˆ(set)</h2><p>é›†åˆä»¥æ— åºçš„æ–¹å¼å­˜å‚¨<strong>å„ä¸ç›¸åŒ</strong>çš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ çš„<code>Key</code>éƒ½ä¸é‡å¤ã€‚åœ¨redisä¸­å¯ä»¥å¿«é€Ÿåœ°å¯¹é›†åˆæ‰§è¡Œæ·»åŠ ã€ç§»é™¤ç­‰æ“ä½œã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#75715e>// å®é™…ä¸Šåªæ’å…¥äº†ä¸¤ä¸ªå…ƒç´ (&#34;item1&#34;,&#34;item2&#34;)</span>
</span></span><span style=display:flex><span>csredis.SAdd(<span style=color:#e6db74>&#34;my-set&#34;</span>, <span style=color:#e6db74>&#34;item1&#34;</span>, <span style=color:#e6db74>&#34;item1&#34;</span>, <span style=color:#e6db74>&#34;item2&#34;</span>); 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// é›†åˆçš„éå†</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>var</span> member <span style=color:#66d9ef>in</span> csredis.SMembers(<span style=color:#e6db74>&#34;my-set&#34;</span>))
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    Console.WriteLine(<span style=color:#e6db74>$&#34;é›†åˆæˆå‘˜ï¼š{member.ToString()}&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>string</span> member = <span style=color:#e6db74>&#34;item1&#34;</span>;
</span></span><span style=display:flex><span>Console.WriteLine(<span style=color:#e6db74>$&#34;{member}æ˜¯å¦å­˜åœ¨:{csredis.SIsMember(&#34;</span>my-<span style=color:#66d9ef>set</span><span style=color:#e6db74>&#34;, member)}&#34;</span>); 
</span></span><span style=display:flex><span><span style=color:#75715e>// output -&gt; True</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ç§»é™¤å…ƒç´ </span>
</span></span><span style=display:flex><span>csredis.SRem(<span style=color:#e6db74>&#34;my-set&#34;</span>, member);
</span></span><span style=display:flex><span>Console.WriteLine(<span style=color:#e6db74>$&#34;{member}æ˜¯å¦å­˜åœ¨:{csredis.SIsMember(&#34;</span>my-<span style=color:#66d9ef>set</span><span style=color:#e6db74>&#34;, member)}&#34;</span>); 
</span></span><span style=display:flex><span><span style=color:#75715e>// output -&gt;  False</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// éšæœºç§»é™¤ä¸€ä¸ªå…ƒç´ </span>
</span></span><span style=display:flex><span>csredis.SPop(<span style=color:#e6db74>&#34;my-set&#34;</span>);
</span></span></code></pre></div><p>ä»¥ä¸Šæ˜¯å¯¹ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ è¿›è¡Œæ“ä½œï¼Œé™¤æ­¤ä¹‹å¤–è¿˜å¯ä»¥å¯¹ä¸¤ä¸ªé›†åˆè¿›è¡Œäº¤ã€å¹¶ã€å·®æ“ä½œ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>csredis.SAdd(<span style=color:#e6db74>&#34;set-a&#34;</span>, <span style=color:#e6db74>&#34;item1&#34;</span>, <span style=color:#e6db74>&#34;item2&#34;</span>, <span style=color:#e6db74>&#34;item3&#34;</span>,<span style=color:#e6db74>&#34;item4&#34;</span>,<span style=color:#e6db74>&#34;item5&#34;</span>);
</span></span><span style=display:flex><span>csredis.SAdd(<span style=color:#e6db74>&#34;set-b&#34;</span>, <span style=color:#e6db74>&#34;item2&#34;</span>, <span style=color:#e6db74>&#34;item5&#34;</span>, <span style=color:#e6db74>&#34;item6&#34;</span>, <span style=color:#e6db74>&#34;item7&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// å·®é›†</span>
</span></span><span style=display:flex><span>csredis.SDiff(<span style=color:#e6db74>&#34;set-a&#34;</span>, <span style=color:#e6db74>&#34;set-b&#34;</span>); 
</span></span><span style=display:flex><span><span style=color:#75715e>// output -&gt; &#34;item1&#34;, &#34;item3&#34;,&#34;item4&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// äº¤é›†</span>
</span></span><span style=display:flex><span>csredis.SInter(<span style=color:#e6db74>&#34;set-a&#34;</span>, <span style=color:#e6db74>&#34;set-b&#34;</span>); 
</span></span><span style=display:flex><span><span style=color:#75715e>// output -&gt; &#34;item2&#34;,&#34;item5&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// å¹¶é›†</span>
</span></span><span style=display:flex><span>csredis.SUnion(<span style=color:#e6db74>&#34;set-a&#34;</span>, <span style=color:#e6db74>&#34;set-b&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// output -&gt; &#34;item1&#34;,&#34;item2&#34;,&#34;item3&#34;,&#34;item4&#34;,&#34;item5&#34;,&#34;item6&#34;,&#34;item7&#34;</span>
</span></span></code></pre></div><p>å¦å¤–è¿˜å¯ä»¥ç”¨<code>SDiffStore</code>,<code>SInterStore</code>,<code>SUnionStore</code>å°†æ“ä½œåçš„ç»“æœå­˜å‚¨åœ¨æ–°çš„é›†åˆä¸­ã€‚</p><h2 id=æ•£åˆ—hashmap>æ•£åˆ—(hashmap)</h2><p>åœ¨redisä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•£åˆ—å°†å¤šä¸ªé”®-å€¼å¯¹å­˜å‚¨åœ¨ä¸€ä¸ªredisé”®ä¸Šï¼Œä»è€Œè¾¾åˆ°å°†ä¸€ç³»åˆ—ç›¸å…³æ•°æ®å­˜æ”¾åœ¨ä¸€èµ·çš„ç›®çš„ã€‚ä¾‹å¦‚æ·»åŠ ä¸€ä¸ªredisé”®<code>Article:1001</code>,ç„¶ååœ¨è¿™ä¸ªé”®ä¸­å­˜æ”¾IDä¸º1001çš„æ–‡ç« çš„æ ‡é¢˜ã€ä½œè€…ã€é“¾æ¥ã€ç‚¹èµæ•°ç­‰ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿™æ ·æ•°æ®é›†çœ‹ä½œæ˜¯å…³ç³»æ•°æ®åº“ä¸­çš„è¡Œã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#75715e>// å‘æ•£åˆ—æ·»åŠ å…ƒç´ </span>
</span></span><span style=display:flex><span>csredis.HSet(<span style=color:#e6db74>&#34;ArticleID:10001&#34;</span>, <span style=color:#e6db74>&#34;Title&#34;</span>, <span style=color:#e6db74>&#34;åœ¨.NET Coreä¸­ä½¿ç”¨CSRedis&#34;</span>);
</span></span><span style=display:flex><span>csredis.HSet(<span style=color:#e6db74>&#34;ArticleID:10001&#34;</span>, <span style=color:#e6db74>&#34;Author&#34;</span>, <span style=color:#e6db74>&#34;xscape&#34;</span>);
</span></span><span style=display:flex><span>csredis.HSet(<span style=color:#e6db74>&#34;ArticleID:10001&#34;</span>, <span style=color:#e6db74>&#34;PublishTime&#34;</span>, <span style=color:#e6db74>&#34;2019-01-01&#34;</span>);
</span></span><span style=display:flex><span>csredis.HSet(<span style=color:#e6db74>&#34;ArticleID:10001&#34;</span>, <span style=color:#e6db74>&#34;Link&#34;</span>,<span style=color:#e6db74>&#34;https://www.cnblogs.com/xscape/p/10208638.html&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// æ ¹æ®Keyè·å–æ•£åˆ—ä¸­çš„å…ƒç´ </span>
</span></span><span style=display:flex><span>csredis.HGet(<span style=color:#e6db74>&#34;ArticleID:10001&#34;</span>, <span style=color:#e6db74>&#34;Title&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// è·å–æ•£åˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>var</span> item <span style=color:#66d9ef>in</span> csredis.HGetAll(<span style=color:#e6db74>&#34;ArticleID:10001&#34;</span>))
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    Console.WriteLine(item.Value);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><code>HGet</code>å’Œ<code>HSet</code>æ–¹æ³•æ‰§è¡Œä¸€æ¬¡åªèƒ½å¤„ç†ä¸€ä¸ªé”®å€¼å¯¹ï¼Œè€Œ<code>HMGet</code>å’Œ<code>HMSet</code>æ˜¯ä»–ä»¬çš„å¤šå‚æ•°ç‰ˆæœ¬ï¼Œä¸€æ¬¡å¯ä»¥å¤„ç†å¤šä¸ªé”®å€¼å¯¹ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>var</span> keys = <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>string</span>[] { <span style=color:#e6db74>&#34;Title&#34;</span>,<span style=color:#e6db74>&#34;Author&#34;</span>,<span style=color:#e6db74>&#34;publishTime&#34;</span>};
</span></span><span style=display:flex><span>csredis.HMGet(<span style=color:#e6db74>&#34;ArticleID:10001&#34;</span>, keys);
</span></span></code></pre></div><p>è™½ç„¶ä½¿ç”¨<code>HGetAll</code>å¯ä»¥å–å‡ºæ‰€æœ‰çš„valueï¼Œä½†æ˜¯<strong>æœ‰æ—¶å€™æ•£åˆ—åŒ…å«çš„å€¼å¯èƒ½éå¸¸å¤§ï¼Œå®¹æ˜“é€ æˆæœåŠ¡å™¨çš„å µå¡</strong>ï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>HKeys</code>å–åˆ°æ•£åˆ—çš„æ‰€æœ‰é”®(<em><code>HValså¯ä»¥å–å‡ºæ‰€æœ‰å€¼</code></em>)ï¼Œç„¶åå†ä½¿ç”¨<code>HGet</code>æ–¹æ³•ä¸€ä¸ªä¸€ä¸ªåœ°å–å‡ºé”®å¯¹åº”çš„å€¼ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#66d9ef>var</span> item <span style=color:#66d9ef>in</span> csredis.HKeys(<span style=color:#e6db74>&#34;ArticleID:10001&#34;</span>))
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>	Console.WriteLine(<span style=color:#e6db74>$&#34;{item} - {csredis.HGet(&#34;</span>ArticleID:<span style=color:#ae81ff>10001</span><span style=color:#e6db74>&#34;, item)}&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å’Œå¤„ç†å­—ç¬¦ä¸²ä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹æ•£åˆ—ä¸­çš„å€¼è¿›è¡Œè‡ªå¢ã€è‡ªå‡æ“ä½œï¼ŒåŸç†åŒå­—ç¬¦ä¸²æ˜¯ä¸€æ ·çš„ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>csredis.HSet(<span style=color:#e6db74>&#34;ArticleID:10001&#34;</span>, <span style=color:#e6db74>&#34;votes&#34;</span>, <span style=color:#e6db74>&#34;257&#34;</span>);
</span></span><span style=display:flex><span>csredis.HIncrBy(<span style=color:#e6db74>&#34;ArticleID:10001&#34;</span>, <span style=color:#e6db74>&#34;votes&#34;</span>, <span style=color:#ae81ff>40</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// output -&gt; 297</span>
</span></span></code></pre></div><h2 id=æœ‰åºé›†åˆ>æœ‰åºé›†åˆ</h2><p>æœ‰åºé›†åˆå¯ä»¥çœ‹ä½œæ˜¯å¯æ’åºçš„æ•£åˆ—ï¼Œä¸è¿‡æœ‰åºé›†åˆçš„valæˆä¸ºscoreåˆ†å€¼ï¼Œé›†åˆå†…çš„å…ƒç´ å°±æ˜¯åŸºäºscoreè¿›è¡Œæ’åºçš„ï¼Œscoreä»¥åŒç²¾åº¦æµ®ç‚¹æ•°çš„æ ¼å¼å­˜å‚¨ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#75715e>// å‘æœ‰åºé›†åˆæ·»åŠ å…ƒç´ </span>
</span></span><span style=display:flex><span>csredis.ZAdd(<span style=color:#e6db74>&#34;Quiz&#34;</span>, (<span style=color:#ae81ff>79</span>, <span style=color:#e6db74>&#34;Math&#34;</span>));
</span></span><span style=display:flex><span>csredis.ZAdd(<span style=color:#e6db74>&#34;Quiz&#34;</span>, (<span style=color:#ae81ff>98</span>, <span style=color:#e6db74>&#34;English&#34;</span>));
</span></span><span style=display:flex><span>csredis.ZAdd(<span style=color:#e6db74>&#34;Quiz&#34;</span>, (<span style=color:#ae81ff>87</span>, <span style=color:#e6db74>&#34;Algorithm&#34;</span>));
</span></span><span style=display:flex><span>csredis.ZAdd(<span style=color:#e6db74>&#34;Quiz&#34;</span>, (<span style=color:#ae81ff>84</span>, <span style=color:#e6db74>&#34;Database&#34;</span>));
</span></span><span style=display:flex><span>csredis.ZAdd(<span style=color:#e6db74>&#34;Quiz&#34;</span>, (<span style=color:#ae81ff>59</span>, <span style=color:#e6db74>&#34;Operation System&#34;</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//è¿”å›é›†åˆä¸­çš„å…ƒç´ æ•°é‡</span>
</span></span><span style=display:flex><span>csredis.ZCard(<span style=color:#e6db74>&#34;Quiz&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// è·å–é›†åˆä¸­æŒ‡å®šèŒƒå›´(90~100)çš„å…ƒç´ é›†åˆ</span>
</span></span><span style=display:flex><span>csredis.ZRangeByScore(<span style=color:#e6db74>&#34;Quiz&#34;</span>,<span style=color:#ae81ff>90</span>,<span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// è·å–é›†åˆæ‰€æœ‰å…ƒç´ å¹¶å‡åºæ’åº</span>
</span></span><span style=display:flex><span>csredis.ZRangeWithScores(<span style=color:#e6db74>&#34;Quiz&#34;</span>, <span style=color:#ae81ff>0</span>, -<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ç§»é™¤é›†åˆä¸­çš„å…ƒç´ </span>
</span></span><span style=display:flex><span>csredis.ZRem(<span style=color:#e6db74>&#34;Quiz&#34;</span>, <span style=color:#e6db74>&#34;Math&#34;</span>);
</span></span></code></pre></div><h2 id=ç®¡é“pipeline>ç®¡é“(pipeline)</h2><p>redisçš„äº‹åŠ¡å¯ä»¥é€šè¿‡pipelineå®ç°çš„ï¼Œä½¿ç”¨pipelineæ—¶ï¼Œå®¢æˆ·ç«¯ä¼šè‡ªåŠ¨è°ƒç”¨<code>MULTI</code>å’Œ<code>EXEX</code>å‘½ä»¤ï¼Œ<strong>å°†å¤šæ¡å‘½ä»¤æ‰“åŒ…å¹¶ä¸€æ¬¡æ€§åœ°å‘é€ç»™redisï¼Œç„¶årediså†å°†å‘½ä»¤çš„æ‰§è¡Œç»“æœå…¨éƒ¨æ‰“åŒ…å¹¶ä¸€æ¬¡æ€§è¿”å›ç»™å®¢æˆ·ç«¯</strong>ï¼Œè¿™æ ·æœ‰æ•ˆçš„å‡å°‘äº†redisä¸å®¢æˆ·ç«¯çš„é€šä¿¡æ¬¡æ•°ï¼Œæå‡æ‰§è¡Œå¤šæ¬¡å‘½ä»¤æ—¶çš„æ€§èƒ½ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>var</span> pipe = csredis.StartPipe();
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i = <span style=color:#ae81ff>0</span>; i &lt; COUNT; i++)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    pipe.IncrBy(<span style=color:#e6db74>&#34;key-one&#34;</span>); <span style=color:#75715e>// å°†key-oneä¸­çš„å€¼è‡ªå¢COUNTæ¬¡ï¼Œäº§ç”Ÿäº†COUNTæ¡IncrByå‘½ä»¤</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>pipe.EndPipe(); <span style=color:#75715e>// åœ¨ç®¡é“ç»“æŸçš„ä½ç½®ï¼Œå°†COUNTæ¡å‘½ä»¤ä¸€æ¬¡æ€§å‘é€ç»™redis</span>
</span></span><span style=display:flex><span>Console.WriteLine(<span style=color:#e6db74>$&#34;{csredis.Get(&#34;</span>key-one<span style=color:#e6db74>&#34;)}&#34;</span>);
</span></span><span style=display:flex><span>Console.ReadKey();
</span></span></code></pre></div><p>éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼Œredisä¸­çš„äº‹åŠ¡ä¸åŒäºæ•°æ®åº“çš„äº‹åŠ¡ï¼Œå¦‚æœæ‰§è¡Œå‘½ä»¤æœŸé—´å‘ç”Ÿé”™è¯¯ï¼Œrediså¹¶ä¸ä¼šå›æ»šã€‚</p><h2 id=keyçš„è¿‡æœŸ>Keyçš„è¿‡æœŸ</h2><p>redisè¿˜å…è®¸æˆ‘ä»¬ä¸ºkeyè®¾ç½®æœ‰æ•ˆæœŸï¼Œå½“keyè¿‡æœŸä¹‹åï¼Œkeyå°±ä¸å­˜åœ¨äº†ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>redis.Set(<span style=color:#e6db74>&#34;MyKey&#34;</span>, <span style=color:#e6db74>&#34;hello,world&#34;</span>);
</span></span><span style=display:flex><span>Console.WriteLine(redis.Get(<span style=color:#e6db74>&#34;MyKey&#34;</span>)); 
</span></span><span style=display:flex><span><span style=color:#75715e>// output -&gt; &#34;hello,world&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>redis.Expire(<span style=color:#e6db74>&#34;MyKey&#34;</span>, <span style=color:#ae81ff>5</span>); <span style=color:#75715e>// keyåœ¨5ç§’åè¿‡æœŸï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ExpireAtæ–¹æ³•è®©å®ƒåœ¨æŒ‡å®šæ—¶é—´è‡ªåŠ¨è¿‡æœŸ</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Thread.Sleep(<span style=color:#ae81ff>6000</span>); <span style=color:#75715e>// æš‚åœ6ç§’</span>
</span></span><span style=display:flex><span>Console.WriteLine(redis.Get(<span style=color:#e6db74>&#34;MyKey&#34;</span>));
</span></span><span style=display:flex><span><span style=color:#75715e>// output -&gt; &#34;&#34;</span>
</span></span></code></pre></div><h2 id=å¼•ç”¨>å¼•ç”¨</h2><ul><li><a href=http://doc.redisfans.com/index.html>Rediså‘½ä»¤å‚è€ƒ</a></li><li><a href=https://item.jd.com/11791607.html>Rediså®æˆ˜</a></li><li><a href=https://redis.io/topics/data-types-intro>An introduction to Redis data types and abstractions</a></li><li><a href=http://www.cnblogs.com/kellynic/p/9803314.html>.NET Coreç®€å•ä¸”é«˜çº§çš„åº“</a></li><li><a href=https://github.com/ctstone/csredis>Github:CSRedis</a></li></ul></section><footer class="mt-12 flex flex-wrap"><a class="mb-1.5 ltr:mr-1.5 rtl:ml-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]" href=https://xscape.dev/tags/.net>.net</a>
<a class="mb-1.5 ltr:mr-1.5 rtl:ml-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]" href=https://xscape.dev/tags/redis>redis</a></footer></article></main><footer class="mx-auto flex h-[4.5rem] max-w-[--w] items-center px-8 text-xs uppercase tracking-wider opacity-60"><div class=mr-auto>Â© 2024, xscape_dev</div><a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>powered by hugoï¸ï¸</a>ï¸
<a class=link href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>hugo-paper</a></footer></body></html>